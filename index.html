<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>My AI Guardrails Lab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-4">
  <div class="max-w-3xl mx-auto bg-white rounded-xl shadow p-6 space-y-4">

    <h1 class="text-2xl font-bold">ğŸ›¡ My AI Guardrails Lab</h1>

    <div>
      <label class="block text-sm font-medium">OpenAI API Key</label>
      <input id="apiKey" type="password"
        class="w-full border rounded px-3 py-2"
        placeholder="sk-..." />
      <p class="text-xs text-gray-500 mt-1">
        ğŸ”’ API Key åªå­˜åœ¨ç€è¦½å™¨ï¼Œä¸æœƒè¢«å„²å­˜
      </p>
    </div>

    <div>
      <label class="block text-sm font-medium">Prompt</label>
      <textarea id="prompt" rows="5"
        class="w-full border rounded px-3 py-2"
        placeholder="è¼¸å…¥æ¸¬è©¦ Promptï¼ˆè¶Šç„ / è©é¨™ / æ­£å¸¸è«‹æ±‚ï¼‰"></textarea>
    </div>

    <button onclick="sendPrompt()"
      class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
      ğŸš€ Send
    </button>

    <pre id="result"
      class="bg-gray-900 text-green-200 p-4 rounded text-sm whitespace-pre-wrap">
    </pre>

  </div>

<script>
async function sendPrompt() {
  const apiKey = document.getElementById('apiKey').value.trim();
  const prompt = document.getElementById('prompt').value.trim();
  const resultEl = document.getElementById('result');

  if (!apiKey || !prompt) {
    resultEl.textContent = 'âŒ è«‹è¼¸å…¥ API Key èˆ‡ Prompt';
    return;
  }

  resultEl.textContent = 'â³ è«‹æ±‚ä¸­...';

  try {
    const res = await fetch('https://api.openai.com/v1/responses', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${apiKey}`
      },
      body: JSON.stringify({
        model: 'gpt-4.1-mini',
        input: [
          {
            role: 'system',
            content: 'ä½ æ˜¯ä¸€å€‹éµå¾ªå®‰å…¨è¦ç¯„èˆ‡ Guardrails çš„ AI åŠ©æ‰‹ã€‚'
          },
          {
            role: 'user',
            content: prompt
          }
        ]
      })
    });

    const data = await res.json();

    if (!res.ok) {
      resultEl.textContent =
        'âŒ API Error:\n' + JSON.stringify(data, null, 2);
      return;
    }

    resultEl.textContent =
      data.output_text || 'ï¼ˆæ²’æœ‰è¼¸å‡ºå…§å®¹ï¼‰';

  } catch (err) {
    resultEl.textContent = 'âŒ ç™¼ç”ŸéŒ¯èª¤ï¼š' + err.message;
  }
}
</script>

</body>
</html>
